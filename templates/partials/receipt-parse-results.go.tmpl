<div id="results" class="receipt-parse-results">
  <h2>Receipt</h2>
  <p>Automated receipt parsing is not 100% accurate. Please confirm the receipt details below.</p>

  <img src="data:image/png;base64,{{.Image}}" alt="Receipt Image" />

  <form 
    method="post" 
    hx-post="/upload/confirm" 
    hx-target="#results" 
    hx-swap="outerHTML"
  >
    <label for="zcauldron_c_merchant">Merchant</label>
    <input type="text" value="{{.Merchant}}" name="zcauldron_c_merchant" />
    <label for="zcauldron_c_date" >Date</label>
    <input type="text" value="{{.Date}}" name="zcauldron_c_date" />
    <label for="zcauldron_c_total">Total</label>
    <input type="text" value="{{.Total}}" name="zcauldron_c_total" />
    <h3>Items</h3>
    <ul class="receipt-items">
      {{ range $index, $item := .Items }}
        <li class="receipt-item receipt-item-{{ $index }}" >
          <input 
            type="text"
            value="{{ $item.Name }}"
            name="name___{{ $index }}"
            id="name___{{ $index }}"
          />
          <input 
            type="number"
            value="{{ $item.Price }}"
            name="price___{{ $index }}"
            id="price___{{ $index }}"
            step="0.01"
            min="0"
            pattern="^\d+(\.\d{1,2})?$"
          />
          <button type="button" class="remove-item">X</button>
        </li>
      {{ end }}
    </ul>  
    <button type="button" class="add-item">Add Item</button>
    <button type="submit">Next</button>
  </form>
</div>
