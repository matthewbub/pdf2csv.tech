<div id="results" class="receipt-modify-container">
  <div>
  <h2>Receipt</h2>
    <p>Automated receipt parsing is not 100% accurate. Please confirm the receipt details below.</p>
  </div>
  <img src="data:image/png;base64,{{.Image}}" alt="Receipt Image" />

  <form 
    method="post" 
    hx-post="/upload/confirm" 
    hx-target="#results" 
    hx-swap="outerHTML"
  >
    <div class="receipt-field">
      <label for="zcauldron_c_merchant">Merchant</label>
      <input type="text" value="{{.Merchant}}" name="zcauldron_c_merchant" />
    </div>
    <div class="receipt-field">
      <label for="zcauldron_c_date" >Date</label>
      <input type="text" value="{{.Date}}" name="zcauldron_c_date" />
    </div>
    <div class="receipt-field">
      <label for="zcauldron_c_total">Total</label>
      <input type="text" value="{{.Total}}" name="zcauldron_c_total" />
    </div>

    <div class="receipt-field-items">
      <h3>Items</h3>
      <ul class="receipt-items">
        {{ range $index, $item := .Items }}
          <li class="receipt-item receipt-item-{{ $index }}" >
            <input 
              type="text"
              value="{{ $item.Name }}"
              name="name___{{ $index }}"
              id="name___{{ $index }}"
            />
            <input 
              type="text"
              value="{{ $item.Price }}"
              name="price___{{ $index }}"
              id="price___{{ $index }}"
            />
            <button type="button" class="remove-item">X</button>
          </li>
        {{ end }}
      </ul>  
      <div class="no-items-message" style="display: none;">No items here. Please add items manually or click "Next" to proceed.</div>
    </div>
    <div class="button-container">
      <button type="button" class="add-item secondary-button">Add Item</button>
      <button type="submit" class="primary-button">Next</button>
    </div>
  </form>
</div>
